

<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <title>DarkZone&#39;Home</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    
    <meta name="description" content="å°å‰ç«¯, åšå®¢, JS, CSS, WEB">
    <meta property="og:description" content="å°å‰ç«¯, åšå®¢, JS, CSS, WEB">
    
    <meta name="author" content="darkzone">

    
    <meta property="og:title" content="å¦‚ä½•ä½¿ç”¨ ES6 ä¸­çš„å‚æ•°">
    <meta property="twitter:title" content="å¦‚ä½•ä½¿ç”¨ ES6 ä¸­çš„å‚æ•°">
    

    <link rel="stylesheet" href="/posts/css/style.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.9.0/styles/tomorrow.min.css">
</head>
</html>
<body>
    <div id="container"  class="full"  >
        
<div class="cover  full " style="background-image:url(/posts/css/img/thumb.jpeg);">
    <div class="cover-inner">
        <a class="you" href="/">
            <img class="radius" src="/posts/css/img/avatar.jpeg" alt="avatar">
            <h1>DarkZone</h1>
            <h3 style="display: none;">Web Developer</h3>
        </a>
        <hr class="divider long">
        <div class="desc">
            <p>å°å‰ç«¯ / æ­»å®…ç”·</p>
            <p>å¶å°”æŠ½é£ / æ—¶å¸¸ä¸æ­£ç»</p>
        </div>
        <hr class="divider short">
        <div class="links">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/posts">Posts</a></li>
                <li><a href="/posts/about">About</a></li>
            </ul>
        </div>
        <div class="links socials">
            <ul>
                <li>
                    <a href="https://github.com/zjzhome" target="_blank">
                        <i class="icon ion-social-github"></i>
                    </a>
                </li>
                <li>
                    <a href="mailto:zjzhome@126.com?subject=Hello,%20I%20saw%20your%20web!">
                        <i class="icon ion-email"></i>
                    </a>
                </li>
                <li>
                    <a href="atom.xml" target="_blank">
                        <i class="icon ion-social-rss"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
        
<div class="wrapper post-page">
    <div class="post-header" style="background-image:url(/posts/assets/img/es6.jpg)">
        <a class="anchor full" href="javascript:void(0);" id="anchor">
            <img class="radius" src="/posts/css/img/avatar_1.jpeg" alt="avatar">
        </a>
        <p class="post-time">posted @ 2020/2/4, 4:57:33 ä¸‹åˆ</p>
        <h1 class="post-title">
            å¦‚ä½•ä½¿ç”¨ ES6 ä¸­çš„å‚æ•°
            
            <p class="t">è¯‘</p>
            
        </h1>
        
        <div class="post-tag">
            <a class="tag-link" href="/posts/tags/ES6/">ES6</a>
        </div>
        
    </div>
    <div class="post-content">
        <p>ECMAScript 6ï¼ˆæˆ–è€…å« ECMAScript 2015ï¼‰æ˜¯ ECMAScript çš„æœ€æ–°æ ‡å‡†ï¼Œæå¤§çš„æé«˜äº† JavaScript ä¸­å¤„ç†å‚æ•°çš„èƒ½åŠ›ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ rest å‚æ•°ï¼ˆrest parametersï¼‰ã€é»˜è®¤å€¼ï¼ˆdefault valuesï¼‰å’Œè§£æ„ï¼ˆdestructuringï¼‰ä»¥åŠå…¶ä»–è®¸å¤šæ–°çš„ç‰¹æ€§ã€‚æœ¬æ–‡æˆ‘ä»¬å°†æ¢ç´¢å‚æ•°(arguments)å’Œå‚æ•°(parameter)çš„æ–¹æ–¹é¢é¢ï¼Œçœ‹ä¸€ä¸‹ES6æ˜¯å¦‚ä½•å¯¹ä»–ä»¬æ”¹è¿›å’Œæå‡çš„ã€‚</p>
<h2 id="arguments-å’Œ-parameters">Arguments å’Œ Parameters</h2>
<p>arguments å’Œ Parameters çš„å«ä¹‰é€šå¸¸æ˜¯å¯ä»¥äº’æ¢çš„ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¸ºäº†æœ¬æ–‡çš„ç›®æ ‡ï¼Œè¿˜æ˜¯è¦åšå‡ºåŒºåˆ†ã€‚åœ¨å¤§å¤šæ•°çš„æ ‡å‡†ä¸­ï¼Œå‡½æ•°å£°æ˜æ—¶ç»™å‡ºçš„å«åš parametersï¼ˆæˆ–è€…å« formal parametersï¼‰ï¼Œè€Œä¼ é€’ç»™å‡½æ•°çš„å«åšçš„ argumentsï¼ˆæˆ–è€…å« actual argumentsï¼‰ï¼Œçœ‹ä¸‹é¢çš„å‡½æ•°ï¼š</p>
<pre><code class="language-js">function foo(param1, param2) {
    // do something
}
foo(10, 20);
</code></pre>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œ<code>param1</code> å’Œ <code>param2</code> æ˜¯å‡½æ•°çš„ parametersï¼Œè€Œä¼ é€’ç»™å‡½æ•°çš„å€¼ï¼ˆ<code>10</code> å’Œ <code>20</code>ï¼‰æ˜¯ argumentsã€‚</p>
<p><strong>è¯‘è€…æ³¨ï¼šæœ¬æ–‡åé¢ä¸å†åŒºåˆ† arguments å’Œ parametersï¼Œç»Ÿä¸€è¯‘ä½œå‚æ•°ã€‚ğŸ˜‚</strong></p>
<h2 id="æ‰©å±•è¿ç®—ç¬¦">æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦)</h2>
<p>åœ¨ ES5 ä¸­ï¼Œ<code>apply()</code> æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿å°†æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œç»å¸¸ç”¨äºä½¿ç”¨ <code>Math.max()</code> æ¥å–å¾—æ•°ç»„çš„æœ€å¤§å€¼ã€‚çœ‹ä¸‹é¢çš„ä»£ç æ®µï¼š</p>
<pre><code class="language-js">var myArray = [5, 10, 50];
Math.max(myArray);    // Error: NaN
Math.max.apply(Math, myArray);    // 50
</code></pre>
<p><code>Math.max()</code> æ–¹æ³•ä¸æ”¯æŒæ•°ç»„ï¼Œåªæ¥å—æ•°å­—ä½œä¸ºå‚æ•°ã€‚å½“æ•°ç»„ä¼ é€’ç»™å‡½æ•°ï¼Œå‡½æ•°ä¼šæŠ›å‡ºé”™è¯¯ã€‚ä½†æ˜¯å½“ä½¿ç”¨ <code>apply()</code> æ–¹æ³•åï¼Œæ•°ç»„å˜æˆäº†ä¸€ä¸ªä¸ªå•ç‹¬çš„æ•°ç»„ä¼ é€’ç»™äº†å‡½æ•°ï¼Œæ‰€ä»¥ <code>Math.max()</code> å°±èƒ½å¤Ÿæ­£ç¡®çš„æ‰§è¡Œäº†ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼ŒES6 ç»™æˆ‘ä»¬å¸¦æ¥äº†æ‰©å±•è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å°±ä¸å¿…å†ç»§ç»­ä½¿ç”¨ <code>apply()</code> æ–¹æ³•äº†ã€‚æˆ‘ä»¬å¯ä»¥å°†è¡¨è¾¾å¼è½»æ¾çš„å±•å¼€ä¸ºå¤šä¸ªå‚æ•°ã€‚</p>
<pre><code class="language-js">var myArray = [5, 10, 50];
Math.max(...myArray);    // 50
</code></pre>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡æ‰©å±•è¿ç®—ç¬¦å°† <code>myArray</code> å±•å¼€æˆäº†ä¸€ä¸ªä¸ªå•ç‹¬çš„å€¼ã€‚è™½ç„¶ ES5 ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>apply()</code> æ–¹æ³•æ¥æ¨¡æ‹Ÿæ‰©å±•è¿ç®—ç¬¦ï¼Œä½†æ˜¯è¯­æ³•ä¸Šè®©äººè¿·æƒ‘ï¼Œå¹¶ä¸”ç¼ºå°‘å¯æ‰©å±•æ€§ã€‚æ‰©å±•è¿ç®—ç¬¦ä¸ä»…æ˜“äºä½¿ç”¨ï¼Œè¿˜å¸¦æ¥äº†è®¸å¤šæ–°çš„ç‰¹æ€§ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨æ—¶å¤šæ¬¡ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå¹¶ä¸”è¿˜å¯ä»¥å’Œå…¶ä»–å‚æ•°æ··åˆåœ¨ä¸€èµ·ã€‚</p>
<pre><code class="language-js">function myFunction() {
  for(var i in arguments){
    console.log(arguments[i]);
  }
}
var params = [10, 15];
myFunction(5, ...params, 20, ...[25]);    // 5 10 15 20 25
</code></pre>
<p>æ‰©å±•è¿ç®—ç¬¦å¦ä¸€å¤§å¥½å¤„å°±æ˜¯ä»–å¯ä»¥å¾ˆå®¹æ˜“çš„å’Œæ„é€ å‡½æ•°ï¼ˆconstructorï¼‰ä¸€èµ·ä½¿ç”¨ï¼š</p>
<pre><code class="language-js">new Date(...[2016, 5, 6]);    // Mon Jun 06 2016 00:00:00 GMT-0700 (Pacific Daylight Time)
</code></pre>
<p>å½“å‰æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES5 æ¥é‡å†™ä¸Šé¢çš„ä»£ç ï¼Œä¸è¿‡æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¤æ‚çš„æ–¹æ³•æ¥é¿å…ä¸€ä¸ªç±»å‹é”™è¯¯ï¼š</p>
<pre><code class="language-js">new Date.apply(null, [2016, 4, 24]);    // TypeError: Date.apply is not a constructor
new (Function.prototype.bind.apply(Date, [null].concat([2016, 5, 6])));   // Mon Jun 06 2016 00:00:00 GMT-0700 (Pacific Daylight Time)
</code></pre>
<h2 id="rest-å‚æ•°">REST å‚æ•°</h2>
<p>rest å‚æ•°å’Œæ‰©å±•è¿ç®—ç¬¦æ˜¯ä¸€æ ·çš„è¯­æ³•ï¼Œä½†æ˜¯ä»–ä¸æ˜¯å°†æ•°ç»„å±•å¼€æˆä¸€ä¸ªä¸ªçš„å‚æ•°ï¼Œè€Œæ˜¯å°†ä¸€ä¸ªä¸ªå‚æ•°è½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<p><strong>è¯‘è€…æ³¨ï¼šrest å‚æ•°å’Œæ‰©å±•è¿ç®—ç¬¦è™½ç„¶ä¸€æ ·çš„è¯­æ³•ï¼Œåœ¨è¿™é‡Œä½ å°±å¯ä»¥çœ‹å‡ºä½œè€…å¼ºè°ƒçš„ arguments å’Œ parameters çš„åŒºåˆ«äº†ã€‚æ‰©å±•è¿ç®—ç¬¦ç”¨äºå‡½æ•°è°ƒç”¨çš„å‚æ•°ï¼ˆargumentsï¼‰ä¸­ï¼Œè€Œ rest å‚æ•°ç”¨äºå‡½æ•°å£°æ˜çš„å‚æ•°ï¼ˆparametersï¼‰ä¸­ã€‚</strong></p>
<pre><code class="language-js">function myFunction(...options) {
     return options;
}
myFunction('a', 'b', 'c');      // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>
<p>å¦‚æœæ²¡æœ‰æä¾›å‚æ•°ï¼Œrest å‚æ•°ä¼šè¢«è®¾ç½®ä¸ºç©ºæ•°ç»„ï¼š</p>
<pre><code>function myFunction(...options) {
     return options;
}
myFunction();      // []
</code></pre>
<p>å½“åˆ›å»ºå¯è§å‡½æ•°ï¼ˆæ¥å—æ•°é‡å¯å˜çš„å‚æ•°çš„å‡½æ•°ï¼‰çš„æ—¶å€™ï¼Œrest å‚æ•°å°±æ˜¾å¾—ååˆ†æœ‰ç”¨ã€‚å› ä¸º rest å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ›¿æ¢ <code>arguments</code> å¯¹è±¡ï¼ˆå°†ä¼šåœ¨ä¸‹æ–‡è®¨è®ºï¼‰ã€‚çœ‹ä¸‹é¢ä¸€ä¸ªä½¿ç”¨ ES5 ç¼–å†™çš„æ–¹æ³•ï¼š</p>
<pre><code class="language-js">function checkSubstrings(string) {
  for (var i = 1; i &lt; arguments.length; i++) {
    if (string.indexOf(arguments[i]) === -1) {
      return false;
    }
  }
  return true;
}
checkSubstrings('this is a string', 'is', 'this');   // true
</code></pre>
<p>è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„ä¸€ç³»åˆ—å­—ç¬¦ä¸²ã€‚è¿™ä¸ªå‡½æ•°çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»æŸ¥çœ‹å‡½æ•°ä½“æ‰çŸ¥é“å‡½æ•°æ¥å—å¤šä¸ªå‚æ•°ã€‚å¦å¤– <code>arguments</code> çš„è¿­ä»£å¿…é¡»ä» 1 å¼€å§‹ï¼Œå› ä¸º <code>arguments[0]</code> æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¦‚æœæˆ‘ä»¬ç¨åç»™ç¬¬ä¸€å‚æ•°ä¹‹åå†æ·»åŠ å‚æ•°ï¼Œæˆ–è®¸æˆ‘ä»¬å°±å¿˜è®°æ›´æ–°è¿™ä¸ªå¾ªç¯äº†ã€‚ä½¿ç”¨ rest å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“çš„é¿å¼€è¿™ä¸ªé—®é¢˜ï¼š</p>
<pre><code class="language-js">function checkSubstrings(string, ...keys) {
  for (var key of keys) {
    if (string.indexOf(key) === -1) {
      return false;
    }
  }
  return true;
}
checkSubstrings('this is a string', 'is', 'this');   // true
</code></pre>
<p>å‡½æ•°çš„è¾“å‡ºå’Œä¸Šä¸€ä¸ªå‡½æ•°ä¸€æ ·ã€‚å†é‡å¤ä¸€æ¬¡ï¼Œ<code>string</code> å‚æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼Œå‰©ä¸‹çš„å‚æ•°è¢«å¡è¿›ä¸€ä¸ªæ•°ç»„å¹¶ä¸”èµ‹å€¼ç»™äº†å˜é‡ <code>keys</code>ã€‚</p>
<p>ä½¿ç”¨ rest å‚æ•°ä»£æ›¿ <code>arguments</code> ä¸ä»…æé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œå¹¶ä¸”é¿å…äº† JavaScript ä¸­çš„<a href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments" target="_blank" rel="noopener">æ€§èƒ½é—®é¢˜</a>ã€‚å°½ç®¡å¦‚æ­¤ï¼Œrest å‚æ•°å¹¶ä¸èƒ½æ— é™åˆ¶ä½¿ç”¨ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå®ƒåªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚</p>
<pre><code class="language-js">function logArguments(a, ...params, b) {
        console.log(a, params, b);
}
logArguments(5, 10, 15);    // SyntaxError: parameter after rest parameter
</code></pre>
<p>å¦ä¸€ä¸ªé™åˆ¶æ–¹æ³•å£°æ˜æ—¶åªå…è®¸ä¸€ä¸ª rest å‚æ•°ï¼š</p>
<pre><code class="language-js">function logArguments(...param1, ...param2) {
}
logArguments(5, 10, 15);    // SyntaxError: parameter after rest parameter
</code></pre>
<h2 id="é»˜è®¤å€¼">é»˜è®¤å€¼</h2>
<h3 id="es5-ä¸­çš„é»˜è®¤å‚æ•°">ES5 ä¸­çš„é»˜è®¤å‚æ•°</h3>
<p>ES5 ä¸­ JavaScript å¹¶ä¸æ”¯æŒé»˜è®¤å€¼ï¼Œä½†è¿™é‡Œæœ‰ä¸ªå¾ˆç®€å•çš„å®ç°ï¼Œä½¿ç”¨ <code>OR</code><br>
è¿ç®—ç¬¦ï¼ˆ<code>||</code>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„æ¨¡æ‹Ÿé»˜è®¤å‚æ•°ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<pre><code class="language-js">function foo(param1, param2) {
   param1 = param1 || 10;
   param2 = param2 || 10;
   console.log(param1, param2);
}
foo(5, 5);  // 5 5
foo(5);    // 5 10
foo();    // 10 10
</code></pre>
<p>è¿™ä¸ªå‡½æ•°æœŸæœ›æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä½†å½“æ— å‚æ•°è°ƒç”¨æ—¶ï¼Œå®ƒä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚åœ¨å‡½æ•°å†…ï¼Œç¼ºå¤±çš„å‚æ•°è‡ªåŠ¨è®¾ç½®ä¸º undefinedï¼Œæ‰€ä»¥æˆ‘ä»¬æ£€æŸ¥è¿™äº›å‚æ•°ï¼Œå¹¶ç»™ä»–ä»¬è®¾ç½®é»˜è®¤å€¼ã€‚ä¸ºäº†æ£€æµ‹ç¼ºå¤±çš„å‚æ•°å¹¶è®¾ç½®é»˜è®¤å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>OR</code> è¿ç®—ç¬¦ï¼ˆ<code>||</code>ï¼‰ã€‚è¿™ä¸ªè¿ç®—ç¬¦é¦–å…ˆæ£€æŸ¥ç¬¬ä¸€ä¸ªå€¼ï¼Œå¦‚æœæ˜¯ <a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy" target="_blank" rel="noopener">truthy</a>ï¼Œè¿ç®—ç¬¦ä¼šè¿”å›å®ƒï¼Œå¦åˆ™è¿”å›ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<p>è¿™ç§æ–¹æ³•åœ¨å‡½æ•°å†…å¾ˆå¸¸ç”¨ï¼Œä½†ä¹Ÿå­˜åœ¨ç‘•ç–µã€‚å¦‚æœä¼ é€’ <code>0</code> æˆ–è€… <code>null</code> ä¹Ÿä¼šè¿”å›é»˜è®¤å€¼ã€‚å› ä¸ºå®ƒä»¬è¢«è®¤ä¸ºæ˜¯ falsy å€¼ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬ç¡®å®éœ€è¦ç»™å‡½æ•°ä¼ é€’ <code>0</code> æˆ–è€… <code>null</code>ï¼Œæˆ‘ä»¬éœ€è¦æ¢ç§æ–¹æ³•æ¥æ£€æµ‹å‚æ•°æ˜¯å¦ç¼ºå¤±ï¼š</p>
<pre><code class="language-js">function foo(param1, param2) {
  if(param1 === undefined){
    param1 = 10;
  }
  if(param2 === undefined){
    param2 = 10;
  }
  console.log(param1, param2);
}
foo(0, null);    // 0, null
foo();    // 10, 10
</code></pre>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œé€šè¿‡æ£€æŸ¥å‚æ•°çš„ç±»å‹æ˜¯å¦ä¸º undefined æ¥ç¡®å®šæ˜¯å¦è¦èµ‹äºˆé»˜è®¤å€¼ã€‚è¿™ç§æ–¹æ³•ä»£ç é‡ç¨å¾®å¤§ä¸€äº›ï¼Œä½†æ›´å®‰å…¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬ç»™å‡½æ•°ä¼ é€’ <code>0</code> æˆ–è€… <code>null</code>ã€‚</p>
<h3 id="es6-ä¸­çš„é»˜è®¤å‚æ•°">ES6 ä¸­çš„é»˜è®¤å‚æ•°</h3>
<p>ES6 ä¸­ï¼Œæˆ‘ä»¬ä¸å¿…å†æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸º undefined æ¥æ¨¡æ‹Ÿé»˜è®¤å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†é»˜è®¤å‚æ•°å‡½æ•°å£°æ˜ä¸­ã€‚</p>
<pre><code class="language-js">function foo(a = 10, b = 10) {
  console.log(a, b);
}
foo(5);    // 5 10
foo(0, null);    // 0 null
</code></pre>
<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå¿½ç•¥å‚æ•°è¿”å›äº†é»˜è®¤å€¼ï¼Œä½†ä¼ é€’ <code>0</code> æˆ–è€… <code>null</code> å¹¶æ²¡æœ‰ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥äº§ç”Ÿå‚æ•°çš„é»˜è®¤å€¼ï¼š</p>
<pre><code class="language-js">function getParam() {
    alert(&quot;getParam was called&quot;);
    return 3;
}
function multiply(param1, param2 = getParam()) {
    return param1 * param2;
}
multiply(2, 5);     // 10
multiply(2);     // 6 (also displays an alert dialog)
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰ç¼ºå°‘ç¬¬äºŒä¸ªå‚æ•°çš„æ—¶å€™ï¼Œ<code>gegParam</code> æ–¹æ³•æ‰ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå‚æ•° <code>multiply()</code> çš„æ—¶å€™å¹¶ä¸ä¼šå¼¹å‡º alertã€‚</p>
<p>é»˜è®¤å‚æ•°å¦ä¸€ä¸ªæœ‰æ„æ€çš„ç‰¹æ€§æ˜¯åœ¨æ–¹æ³•å£°æ˜æ˜¯å¯ä»¥å¼•ç”¨å…¶ä»–å‚æ•°å’Œå˜é‡ä½œä¸ºé»˜è®¤å‚æ•°ï¼š</p>
<pre><code class="language-js">function myFunction(a=10, b=a) {
     console.log('a = ' + a + '; b = '  + b);
}
myFunction();     // a=10; b=10
myFunction(22);    // a=22; b=22
myFunction(2, 4);    // a=2; b=4
</code></pre>
<p>ç”šè‡³å¯ä»¥åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™æ‰§è¡Œæ“ä½œç¬¦ï¼š</p>
<pre><code class="language-js">function myFunction(a, b = ++a, c = a*b) {
     console.log(c);
}
myFunction(5);    // 36
</code></pre>
<p>æ³¨æ„ï¼šä¸åƒå…¶ä»–è¯­è¨€ï¼ŒJavaScript æ˜¯åœ¨è°ƒç”¨æ—¶æ‰è®¡ç®—é»˜è®¤å‚æ•°çš„ï¼š</p>
<pre><code class="language-js">function add(value, array = []) {
  array.push(value);
  return array;
}
add(5);    // [5]
add(6);    // [6], not [5, 6]
</code></pre>
<h2 id="è§£æ„èµ‹å€¼">è§£æ„èµ‹å€¼</h2>
<p>è§£æ„èµ‹å€¼æ˜¯ ES6 çš„æ–°ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä»æ•°ç»„æˆ–è€…å¯¹è±¡ä¸­æå–å€¼å¹¶èµ‹å€¼ç»™å˜é‡ï¼Œè¯­æ³•ä¸Šç±»ä¼¼äºå¯¹è±¡å’Œæ•°ç»„å­—é¢é‡ã€‚å½“ç»™å‡½æ•°ä¼ å‚æ—¶ï¼Œè¿™ç§è¯­æ³•æ¸…æ™°ä¸”æ˜“äºç†è§£å¹¶ä¸”å¾ˆå®ç”¨ã€‚</p>
<p>åœ¨ ES5 ä¸­ï¼Œç»å¸¸ä½¿ç”¨é…ç½®å¯¹è±¡æ¥å¤„ç†å¤§é‡çš„çš„å¯é€‰å‚æ•°ï¼Œå°¤å…¶æ˜¯å±æ€§çš„é¡ºåºæ— å…³ç´§è¦çš„æ—¶å€™ï¼Œçœ‹ä¸‹é¢çš„å‡½æ•°ï¼š</p>
<pre><code class="language-js">function initiateTransfer(options) {
    var  protocol = options.protocol,
        port = options.port,
        delay = options.delay,
        retries = options.retries,
        timeout = options.timeout,
        log = options.log;
    // code to initiate transfer
}
options = {
  protocol: 'http',
  port: 800,
  delay: 150,
  retries: 10,
  timeout: 500,
  log: true
};
initiateTransfer(options);
</code></pre>
<p>è¿™ç§æ¨¡å¼ JavaScript å¼€å‘è€…ç»å¸¸ä½¿ç”¨ï¼Œå¹¶ä¸”å¾ˆå¥½ç”¨ã€‚ä½†æˆ‘ä»¬å¿…é¡»è¿›å…¥å‡½æ•°ä½“å†…æ‰çŸ¥é“åˆ°åº•éœ€è¦å¤šå°‘å‚æ•°ï¼Œä½¿ç”¨è§£æ„å‚æ•°èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°å£°æ˜æ—¶å¾ˆæ¸…æ™°çš„æŒ‡å®šéœ€è¦çš„å‚æ•°ã€‚</p>
<pre><code class="language-js">function initiateTransfer({protocol, port, delay, retries, timeout, log}) {
     // code to initiate transfer
};
var options = {
  protocol: 'http',
  port: 800,
  delay: 150,
  retries: 10,
  timeout: 500,
  log: true
}
initiateTransfer(options);
</code></pre>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å¯¹è±¡è§£æ„æ¨¡å¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªé…ç½®å‹å¯¹è±¡ï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ æ¸…æ™°æ˜“è¯»ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ··ç”¨è§£æ„å‚æ•°å’Œæ™®é€šå‚æ•°ï¼š</p>
<pre><code class="language-js">function initiateTransfer(param1, {protocol, port, delay, retries, timeout, log}) {
     // code to initiate transfer
}
initiateTransfer('some value', options);
</code></pre>
<p>éœ€è¦æ³¨æ„ï¼Œå¦‚æœå‡½æ•°è°ƒç”¨æ—¶è§£æ„å‚æ•°ç¼ºå¤±ä¼šæŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯ï¼š</p>
<pre><code class="language-js">function initiateTransfer({protocol, port, delay, retries, timeout, log}) {
     // code to initiate transfer
}
initiateTransfer();  // TypeError: Cannot match against 'undefined' or 'null'
</code></pre>
<p>å½“æˆ‘ä»¬çš„å‚æ•°æ˜¯å¿…é¡»çš„ï¼Œè¿™ç§è¡Œä¸ºæˆ‘ä»¬æ˜¯æƒ³è¦çš„ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœŸæœ›å‚æ•°å¯é€‰å‘¢ï¼Ÿä¸ºé˜»æ­¢è¿™ç§é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦ç»™è§£æ„å‚æ•°èµ‹ä¸€ä¸ªé»˜è®¤å€¼ï¼š</p>
<pre><code class="language-js">function initiateTransfer({protocol, port, delay, retries, timeout, log} = {}) {
     // code to initiate transfer
}
initiateTransfer();    // no error
</code></pre>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ç»™è§£æ„å‚æ•°èµ‹äº†ä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºé»˜è®¤å€¼ã€‚ç°åœ¨å¦‚æœå‡½æ•°è°ƒç”¨æ—¶æ²¡æœ‰èµ‹äºˆå‚æ•°ï¼Œä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™è§£æ„å‚æ•°æ¯ä¸ªå±æ€§éƒ½èµ‹é»˜è®¤å€¼ï¼š</p>
<pre><code class="language-js">function initiateTransfer({
    protocol = 'http',
    port = 800,
    delay = 150,
    retries = 10,
    timeout = 500,
    log = true
}) {
     // code to initiate transfer
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯ä¸ªå±æ€§éƒ½è¢«èµ‹äºˆé»˜è®¤å€¼ï¼Œå°±æ— éœ€åœ¨å‡½æ•°ä½“å†…æ‰‹åŠ¨æ£€æŸ¥ undefined çš„å‚æ•°å†èµ‹äºˆé»˜è®¤å€¼ã€‚</p>
<h2 id="å‚æ•°ä¼ é€’">å‚æ•°ä¼ é€’</h2>
<p>å‡½æ•°ä¼ å‚æœ‰ä¸¤ç§æ–¹å¼ï¼šå¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’ã€‚å¦‚æœæ˜¯å¼•ç”¨ä¼ é€’ï¼Œä¿®æ”¹å‚æ•°ä¼šå¼•èµ·å…¨å±€çš„å˜åŒ–ï¼Œå¦‚æœæ˜¯å€¼ä¼ é€’ï¼Œåªä¼šå¼•èµ·å‡½æ•°å†…çš„å˜åŒ–ã€‚</p>
<p>åœ¨ä¸€äº›è¯­è¨€ä¸­ï¼Œåƒ Visual Basic å’Œ PowerShellï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å£°æ˜æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Œä½† JavaScript ä¸æ˜¯è¿™æ ·ã€‚</p>
<h3 id="å€¼ä¼ é€’">å€¼ä¼ é€’</h3>
<p>ä¸¥æ ¼æ¥è¯´ï¼ŒJavaScriptåªèƒ½å€¼ä¼ é€’ã€‚å½“æˆ‘ä»¬é€šè¿‡å€¼ä¼ é€’ç»™å‡½æ•°ä¼ å‚ï¼Œå°±åœ¨å‡½æ•°ä½œç”¨åŸŸå†…åˆ›å»ºäº†è¿™ä¸ªå€¼å¾—å‰¯æœ¬ã€‚æ‰€ä»¥ä»»ä½•å€¼å¾—å˜åŒ–éƒ½åªä¼šåæ˜ åœ¨å‡½æ•°å†…éƒ¨ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre><code class="language-js">var a = 5;
function increment(a) {
    a = ++a;
    console.log(a);
}
increment(a);   // 6
console.log(a);    // 5
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œåœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹ä¿®æ”¹å‚æ•°å¹¶ä¸ä¼šå½±å“åˆ°åŸå§‹å€¼ã€‚æ‰€ä»¥åœ¨å‡½æ•°å¤–æ‰“å°è¿™ä¸ªå˜é‡ï¼Œå¾—åˆ°çš„ç»“æœå§‹ç»ˆæ˜¯ <code>5</code>ã€‚</p>
<h3 id="å¼•ç”¨ä¼ é€’">å¼•ç”¨ä¼ é€’</h3>
<p>åœ¨ JavaScript ä¸­ï¼Œæ‰€æœ‰çš„éƒ½æ˜¯å€¼ä¼ é€’ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªå˜é‡æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰ï¼Œè¿™ä¸ªâ€œå€¼â€å°±æŒ‡å‘äº†è¿™ä¸ªå¯¹è±¡ï¼Œæ”¹å˜äº†å¯¹è±¡çš„æŸä¸ªå±ç›¸ä¹Ÿä¼šå¼•èµ·å…¶å…³è”å¯¹è±¡çš„æ”¹å˜ã€‚</p>
<p>çœ‹è¿™ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="language-js">function foo(param){
    param.bar = 'new value';
}
obj = {
    bar : 'value'
}
console.log(obj.bar);   // value
foo(obj);
console.log(obj.bar);   // new value
</code></pre>
<p>æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œå¯¹è±¡çš„å±æ€§åœ¨å‡½æ•°ä½“å†…éƒ¨è¢«ä¿®æ”¹ï¼Œä½†æ˜¯å´å½±å“åˆ°äº†å‡½æ•°å¤–éƒ¨çš„å¯¹è±¡ã€‚</p>
<p>å½“æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªéåŸå§‹çš„å€¼ï¼Œåƒæ•°ç»„æˆ–è€…å¯¹è±¡ï¼Œç¨‹åºä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å‘åŸå§‹åœ°å€ã€‚å¦‚æœè¢«ä¿®æ”¹ï¼ŒåŸå§‹å€¼ä¹Ÿä¼šéšä¹‹ä¿®æ”¹ã€‚</p>
<h2 id="ç±»å‹æ£€æŸ¥å’Œç¼ºå¤±æˆ–å¤šä½™å‚æ•°">ç±»å‹æ£€æŸ¥å’Œç¼ºå¤±æˆ–å¤šä½™å‚æ•°</h2>
<p>åœ¨å¼ºç±»å‹çš„è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨å‡½æ•°å£°æ˜æ—¶å£°æ˜å‚æ•°çš„ç±»å‹ï¼Œä½† JavaScript ä¸­æ²¡æœ‰è¿™ç§ç‰¹æ€§ï¼Œåœ¨ JavaScript ä¸­ï¼Œå¹¶ä¸å…³å¿ƒä¼ é€’ç»™å‡½æ•°çš„å‚æ•°çš„ç±»å‹å’Œä¸ªæ•°ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œä»…æ¥å—ä¸€ä¸ªå‚æ•°ã€‚å½“æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¹¶ä¸é™åˆ¶åˆ°åº•ä¼ é€’ç»™å‡½æ•°å¤šå°‘ä¸ªå‚æ•°ï¼Œç”šè‡³å¯ä»¥é€‰æ‹©ä¸ä¼ ï¼Œéƒ½ä¸ä¼šäº§ç”Ÿé”™è¯¯ã€‚</p>
<p>å‚æ•°çš„ä¸ªæ•°å¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>
<h4 id="å‚æ•°ç¼ºå¤±">å‚æ•°ç¼ºå¤±</h4>
ç¼ºå¤±çš„å˜é‡èµ‹å€¼ä¸º undefined</li>
<li>
<h4 id="å‚æ•°è¿‡å¤š">å‚æ•°è¿‡å¤š</h4>
å¤šä½™çš„å‚æ•°ä¼šè¢«å¿½ç•¥ï¼Œä½†å¯ä»¥ä» arguments å˜é‡ä¸­å–åˆ°ï¼ˆä¸‹æ–‡å³å°†è®¨è®ºï¼‰ã€‚</li>
</ul>
<h2 id="å¼ºåˆ¶å‚æ•°">å¼ºåˆ¶å‚æ•°</h2>
<p>å‡½æ•°è°ƒç”¨ä¸­å¦‚æœå‡½æ•°ç¼ºå¤±ï¼Œå®ƒä¼šè¢«è®¾ç½®ä¸º undefinedã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå¦‚æœå‚æ•°ç¼ºå¤±å°±æŠ›å‡ºé”™è¯¯ï¼š</p>
<pre><code class="language-js">function foo(mandatory, optional) {
    if (mandatory === undefined) {
        throw new Error('Missing parameter: mandatory');
    }
}
</code></pre>
<p>åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è¿‘ä¸€æ­¥ï¼Œä½¿ç”¨é»˜è®¤å‚æ•°æ¥è®¾ç½®å¼ºåˆ¶å‚æ•°ï¼š</p>
<pre><code class="language-js">function throwError() {
    throw new Error('Missing parameter');
}
function foo(param1 = throwError(), param2 = throwError()) {
    // do something
}
foo(10, 20);    // ok
foo(10);   // Error: missing parameter
</code></pre>
<h2 id="arguments-å¯¹è±¡">arguments å¯¹è±¡</h2>
<p>åœ¨ ES4 çš„æ—¶å€™é»˜è®¤å‚æ•°å°±è¢«åŠ å…¥ï¼Œæ¥ä»£æ›¿ <code>arguments</code> å¯¹è±¡ï¼Œä½† ES4 å¹¶æ²¡æœ‰å®ç°ã€‚éšç€ ES6 çš„å‘å¸ƒï¼ŒJavaScript ç°åœ¨å®˜æ–¹æ”¯æŒäº†é»˜è®¤å‚æ•°ã€‚ä½†å¹¶æ²¡æœ‰å–æ¶ˆæ”¯æŒ <code>arguments</code> çš„è®¡åˆ’ã€‚</p>
<p><code>arguments</code> å¯¹è±¡æ˜¯ä¸€ä¸ªç±»æ•°ç»„çš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨æ‰€æœ‰çš„å‡½æ•°ä¸­å–åˆ°ã€‚<code>arguments</code> é€šè¿‡æ•°å­—ç´¢å¼•æ¥è·å–ä¼ å…¥çš„å‚æ•°ï¼Œè€Œä¸æ˜¯é€šè¿‡å‚æ•°çš„åå­—ã€‚è¿™ä¸ªå¯¹è±¡å…è®¸æˆ‘ä»¬ç»™å‡½æ•°ä¼ å…¥ä»»æ„å¤šçš„å‚æ•°ã€‚çœ‹ä¸‹é¢çš„ä»£ç åˆ¤æ–­ï¼š</p>
<pre><code class="language-js">function checkParams(param1) {
    console.log(param1);    // 2
    console.log(arguments[0], arguments[1]);    // 2 3
    console.log(param1 + arguments[0]);    // 4
}
checkParams(2, 3);
</code></pre>
<p>è¿™ä¸ªå‡½æ•°æœŸæœ›ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå½“æˆ‘ä»¬ä¼ å…¥ä¸¤ä¸ªå‚æ•°è°ƒç”¨å®ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡ <code>param1</code> æˆ–è€… <code>arguments[0]</code> æ¥è·å–ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä½†ç¬¬äºŒä¸ªå‚æ•°åªèƒ½é€šè¿‡ <code>arguments[1]</code> è·å–ã€‚ä¹Ÿå³æ˜¯è¯´ï¼Œ<code>arguments</code> å¯¹è±¡å¯ä»¥å’Œæœ‰å‘½åçš„å‚æ•°ä¸€èµ·ä½¿ç”¨ã€‚</p>
<p><code>arguments</code> å¯¹è±¡åŒ…å«äº†æ‰€æœ‰ä¼ å…¥å‡½æ•°çš„å‚æ•°ï¼Œå¹¶ä¸”ç´¢å¼•çš„èµ·å§‹æ˜¯ <code>1</code>ã€‚å½“æˆ‘ä»¬å¸Œæœ›è·å–æ›´å¤šçš„å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ <code>arguments[2]</code> ã€<code>arguments[3]</code> ç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è·³è¿‡æ‰€æœ‰çš„å‚æ•°å‘½åè®¾ç½®ï¼Œä»…ä»…ä½¿ç”¨ <code>arguments</code> å¯¹è±¡ï¼š</p>
<pre><code class="language-js">function checkParams() {
    console.log(arguments[1], arguments[0], arguments[2]);
}
checkParams(2, 4, 6);  // 4 2 6
</code></pre>
<p>å®é™…ä¸Šï¼Œå‘½åçš„å‚æ•°æ˜¯ä¸€ç§æ–¹ä¾¿ï¼Œä½†ä¸æ˜¯å¿…éœ€çš„ã€‚åŒæ ·çš„ï¼Œrest å‚æ•°ä¹Ÿå¯ä»¥ç”¨æ¥æ˜¾ç¤ºä¼ å…¥çš„å‚æ•°ï¼š</p>
<pre><code class="language-js">function checkParams(...params) {
    console.log(params[1], params[0], params[2]);    // 4 2 6
    console.log(arguments[1], arguments[0], arguments[2]);    // 4 2 6
}
checkParams(2, 4, 6);
</code></pre>
<p><code>arguments</code> å¯¹è±¡æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œä½†æ˜¯ç¼ºå°‘åƒ <code>slice</code> å’Œ <code>foreach</code> ç­‰æ–¹æ³•ã€‚ä¸ºäº†åœ¨ <code>arguments</code> å¯¹è±¡ä¸Šä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸ºçœŸå®çš„æ•°ç»„ï¼š</p>
<pre><code class="language-js">function sort() {
    var a = Array.prototype.slice.call(arguments);
    return a.sort();
}
sort(40, 20, 50, 30);    // [20, 30, 40, 50]
</code></pre>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œä½¿ç”¨ <code>Array.prototype.slice.call()</code> å¿«é€Ÿå°† <code>arguments</code> å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ã€‚ç„¶åä½¿ç”¨ <code>sort</code> æ–¹æ³•è¿›è¡Œæ’åºã€‚</p>
<p>ES6 æœ‰ä¸€ç§æ›´ç›´æ¥çš„æ–¹æ³•ï¼Œ<code>Array.from()</code>ï¼ŒES6 æ–°å¢çš„æ–¹æ³•ï¼Œç”¨æ¥é€šè¿‡ç±»æ•°ç»„å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚</p>
<pre><code class="language-js">function sort() {
    var a = Array.from(arguments);
    return a.sort();
}
sort(40, 20, 50, 30);    // [20, 30, 40, 50]
</code></pre>
<h2 id="length-å±æ€§">length å±æ€§</h2>
<p>è™½ç„¶ arguments å¯¹è±¡å¹¶ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰çš„æ•°ç»„ï¼Œä½†å®ƒæœ‰ä¸€ä¸ª <code>length</code> å±æ€§ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°çš„ä¸ªæ•°ã€‚</p>
<pre><code class="language-js">function countArguments() {
    console.log(arguments.length);
}
countArguments();    // 0
countArguments(10, null, &quot;string&quot;);    // 3
</code></pre>
<p>é€šè¿‡ä½¿ç”¨ <code>length</code> å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½çš„æ§åˆ¶å‚æ•°çš„æ•°é‡ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>length</code> å±æ€§æ¥æ£€æŸ¥å‚æ•°æ•°é‡ï¼Œå¦‚æœå°‘äºæœŸæœ›æ•°é‡å°±æŠ›å‡ºé”™è¯¯ã€‚</p>
<pre><code class="language-js">function foo(param1, param2) {
    if (arguments.length &lt; 2) {
        throw new Error(&quot;This function expects at least two arguments&quot;);
    } else if (arguments.length === 2) {
        // do something
    }
}
</code></pre>
<p>rest å‚æ•°æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥ä»–ä¹Ÿæœ‰ <code>length</code> å±æ€§ï¼Œæˆ‘ä»¬ç”¨ ES6 æ¥é‡å†™ä¸Šé¢çš„æ–¹æ³•ï¼š</p>
<pre><code class="language-js">function foo(...params) {
  if (params.length &lt; 2) {
        throw new Error(&quot;This function expects at least two arguments&quot;);
    } else if (params.length === 2) {
        // do something
    }
}
</code></pre>
<h2 id="callee-å’Œ-caller-å±æ€§">Callee å’Œ Caller å±æ€§</h2>
<p><code>callee</code> å±æ€§æŒ‡å‘å½“å‰æ­£åœ¨è¿è¡Œçš„å‡½æ•°ï¼Œè€Œ <code>caller</code> æŒ‡å‘è°ƒç”¨å½“å‰æ­£åœ¨è¿è¡Œå‡½æ•°çš„å‡½æ•°ã€‚åœ¨ ES5 ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™äº›å±æ€§æ˜¯è¢«åºŸå¼ƒæ‰çš„ï¼Œå¦‚æœè¦è®¿é—®å®ƒä»¬ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p><code>arguments.callee</code> å±æ€§åœ¨é€’å½’å‡½æ•°ï¼ˆé€’å½’å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œé€šè¿‡å®ƒçš„ç­¾åæŒ‡å‘è‡ªèº«ï¼‰ä¸‹å¾ˆæœ‰ç”¨ï¼Œå°¤å…¶æ˜¯å‡½æ•°çš„ç­¾åä¸å¯ç”¨æ—¶ï¼ˆä¹Ÿå°±æ˜¯åŒ¿åå‡½æ•°ï¼‰ã€‚å› ä¸ºåŒ¿åå‡½æ•°æ²¡æœ‰åå­—ï¼Œå”¯ä¸€æŒ‡å‘è‡ªèº«çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ <code>arguments.callee</code>ã€‚</p>
<pre><code class="language-js">var result = (function(n) {
  if (n &lt;= 1) {
    return 1;
  } else {
    return n * arguments.callee(n - 1);
  }
})(4);   // 24
</code></pre>
<h2 id="ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸‹çš„-arguments">ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸‹çš„ arguments</h2>
<p>åœ¨ ES5 éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ <code>arguments</code> å¯¹è±¡æœ‰ä¸€ä¸ªä¸å¸¸ç”¨çš„ç‰¹æ€§ï¼šå®ƒä¿æŒå’Œå‘½åå‚æ•°å€¼åŒæ­¥ã€‚</p>
<pre><code class="language-js">function foo(param) {
   console.log(param === arguments[0]);    // true
   arguments[0] = 500;
   console.log(param === arguments[0]);    // true
   return param
}
foo(200);    // 500
</code></pre>
<p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œä¸€ä¸ªæ–°çš„å€¼èµ‹ç»™ <code>arguments[0]</code>ã€‚å› ä¸º <code>arguments</code> ä¸€ç›´å’Œå‘½åå‚æ•°çš„å€¼ä¿æŒåŒæ­¥ï¼Œ<code>arguments[0]</code> çš„æ”¹å˜ä¹Ÿä¼šå¼•èµ· <code>param</code> çš„æ”¹å˜ã€‚äº‹å®ä¸Šï¼Œä»–ä»¬æ˜¯åŒä¸ªå˜é‡çš„ä¸åŒåç§°ã€‚åœ¨ ES5 ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™ç§ä»¤äººè¿·æƒ‘çš„ç‰¹æ€§è¢«ç§»é™¤äº†ï¼š</p>
<pre><code class="language-js">&quot;use strict&quot;;
function foo(param) {
   console.log(param === arguments[0]);    // true
   arguments[0] = 500;
   console.log(param === arguments[0]);    // false
   return param
}
foo(200);   // 200
</code></pre>
<p>è¿™æ¬¡ï¼Œ<code>arguments[0]</code> çš„æ”¹å˜æ²¡æœ‰å½±å“åˆ° <code>param</code>ï¼Œå¹¶ä¸”è¾“å‡ºå’ŒæœŸæœ›ä¸€æ ·ã€‚ES6ä¸‹ï¼Œè¾“å‡ºç»“æœå’Œ ES5 çš„ä¸¥æ ¼æ¨¡å¼æ˜¯ä¸€è‡´çš„ã€‚ä½†æ˜¯è¯·è®°ä½ï¼Œåœ¨å‡½æ•°å£°æ˜æ—¶ä½¿ç”¨äº†é»˜è®¤å‚æ•°ï¼Œ<code>arguments</code> ä¸å—å½±å“ã€‚</p>
<pre><code class="language-js">function foo(param1, param2 = 10, param3 = 20) {
   console.log(param1 === arguments[0]);    // true
   console.log(param2 === arguments[1]);    // true
   console.log(param3 === arguments[2]);    // false
   console.log(arguments[2]);    // undefined
   console.log(param3);    // 20
}
foo('string1', 'string2');
</code></pre>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå°½ç®¡ <code>param3</code> æœ‰é»˜è®¤å€¼ï¼Œä½†ä»–å’Œ <code>arguments[2]</code> å¹¶ä¸ç›¸ç­‰ï¼Œå› ä¸ºåªæœ‰ä¸¤ä¸ªå‚æ•°ä¼ å…¥äº†å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè®¾ç½®é»˜è®¤å‚æ•°å¹¶ä¸å½±å“ arguments å¯¹è±¡ã€‚</p>
<h2 id="ç»“è®º">ç»“è®º</h2>
<p>ES6 ç»™ JavaScript å¸¦æ¥äº†è®¸å¤šå¤§å¤§å°å°çš„æ”¹è¿›ã€‚è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…å¼€å§‹ä½¿ç”¨ ES6ï¼Œè€Œä¸”å¾ˆå¤šæ‰€æœ‰çš„ç‰¹æ€§éƒ½å¯ä»¥æ— éšœç¢ä½¿ç”¨ã€‚æœ¬æ–‡æˆ‘ä»¬å­¦ä¹ äº† ES6 æ˜¯å¦‚ä½•æå‡JavaScript å¤„ç†å‚æ•°çš„èƒ½åŠ›çš„ã€‚ä½†æˆ‘ä»¬ä»…ä»…å­¦äº† ES6 çš„ä¸€ç‚¹çš®æ¯›ã€‚æ›´å¤šçš„æœ‰è¶£çš„ç‰¹æ€§ç­‰ç€æˆ‘ä»¬å»æŒ–æ˜ï¼</p>
<ul>
<li><a href="https://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener">ECMAScript 6 Compatibility Table</a>, Juriy Zaytsev</li>
<li>â€œ<a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="noopener">ECMAScript 2015 Language Specification</a>,â€ ECMA International</li>
</ul>
<hr>
<p>çœ‹ä¸‹æ—¶é—´ç°åœ¨æ­£å¥½æ˜¯23ï¼š23ï¼Œå‡ ä¹ç”¨äº†ä¸€ä¸ªä¸‹åˆå’Œæ™šä¸ŠæŠŠè¿™ç¯‡æ–‡ç« è¯»å®Œåˆç¿»è¯‘å®Œï¼Œè¿™ç¯‡æ–‡ç« ç»“åˆ ES5 å’Œ ES6 æ¥è®²è§£ï¼Œæ”¶ç›Šé¢‡å¤šã€‚ä¸è¿‡ç¿»è¯‘æ°´å¹³æœ‰é™ï¼Œæ±‚å¤šææ„è§å¤šå¤šæŒ‡æ•™ ~</p>
<p>åŸæ–‡åœ°å€ï¼š <a href="https://www.smashingmagazine.com/2016/07/how-to-use-arguments-and-parameters-in-ecmascript-6/" target="_blank" rel="noopener">How To Use Arguments And Parameters In ECMAScript 6</a></p>

    </div>

    
    <div class="update-tip">**æœ¬æ–‡äº 2020/2/4, 4:57:33 ä¸‹åˆ é‡æ–°ç¼–è¾‘**</div>
    

    <div class="comment">
        <!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
        <div id="lv-container" data-id="city" data-uid="MTAyMC8zMDYwNS83MTYw">
            <script type="text/javascript">
           (function(d, s) {
               var j, e = d.getElementsByTagName(s)[0];

               if (typeof LivereTower === 'function') { return; }

               j = d.createElement(s);
               j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
               j.async = true;

               e.parentNode.insertBefore(j, e);
           })(document, 'script');
            </script>
        <noscript> ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
        </div>
        <!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->        
    </div>

</div>
<script src="/posts/js/post.js"></script>
    </div>

    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>
</body>
</html>